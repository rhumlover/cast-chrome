// Generated by CoffeeScript 1.6.3
(function() {
  var dmHandler, receiver, remoteMedia;

  receiver = new cast.receiver.Receiver('358a5251-4f55-4e2d-9276-62da9b153a22_2', [cast.receiver.RemoteMedia.NAMESPACE, 'DM']);

  remoteMedia = new cast.receiver.RemoteMedia();

  remoteMedia.addChannelFactory(receiver.createChannelFactory(cast.receiver.RemoteMedia.NAMESPACE));

  dmHandler = new cast.receiver.RemoteMedia();

  dmHandler.addChannelFactory(receiver.createChannelFactory('DM'));

  receiver.start();

  window.addEventListener('load', function() {
    var player;
    player = document.getElementById('player');
    remoteMedia.setMediaElement(player);
    player.addEventListener('loadedmetadata', function() {
      console.log.apply(null, [cast.receiver.RemoteMedia.getTitle, cast.receiver.RemoteMedia.getImageURL, cast.receiver.RemoteMedia.getContentInfo]);
    });
    player.addEventListener('ended', function() {
      setTimeout(function() {
        console.log('display inactivity message');
      }, 5000);
    });
  });

}).call(this);
